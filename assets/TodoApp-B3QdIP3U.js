import{j as e,r,P as f,T as g,i as j,k as p,l as v}from"./react-vendor-CNslD6Mb.js";import{u as N}from"./useLocalStorage-BlcD5A7T.js";import"./vendor-7OC5HNn7.js";import"./state-CWLQzQDb.js";function y({options:n,value:t,onChange:s}){return e.jsx("div",{className:"inline-flex bg-neutral-100 rounded-full p-1 gap-1",children:n.map(a=>e.jsx("button",{onClick:()=>s(a.value),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-100 ${t===a.value?"bg-white text-neutral-900 shadow-sm":"text-neutral-500 hover:text-neutral-700"}`,children:a.label},a.value))})}function k({onAdd:n}){const[t,s]=r.useState(""),a=r.useRef(null);r.useEffect(()=>{a.current?.focus()},[]);const u=d=>{d.preventDefault();const i=t.trim();i&&(n(i),s(""),a.current?.focus())};return e.jsxs("form",{onSubmit:u,className:"flex gap-3",children:[e.jsx("input",{ref:a,type:"text",value:t,onChange:d=>s(d.target.value),placeholder:"Add a new task...","aria-label":"New task",className:"flex-1 px-4 py-3 bg-white border border-neutral-200 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500"}),e.jsxs("button",{type:"submit",disabled:!t.trim(),"aria-label":"Add task",className:"px-6 py-3 bg-brand-600 hover:bg-brand-700 text-white rounded-xl font-medium text-sm transition-colors disabled:bg-neutral-300 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(f,{size:18}),"Add"]})]})}const C=r.memo(function({todo:t,onToggle:s,onDelete:a}){return e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white border border-neutral-200 rounded-xl hover:border-neutral-300 transition-colors group",children:[e.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>s(t.id),className:"w-5 h-5 rounded border-neutral-300 text-brand-600 focus:ring-2 focus:ring-brand-500 focus:ring-offset-0 cursor-pointer"}),e.jsx("span",{className:`flex-1 text-base ${t.completed?"text-neutral-400 line-through":"text-neutral-900"}`,children:t.text}),e.jsx("button",{onClick:()=>a(t.id),className:"opacity-0 group-hover:opacity-100 p-2 text-neutral-400 hover:text-red-600 transition-all rounded-lg hover:bg-red-50","aria-label":"Delete todo",children:e.jsx(g,{size:18})})]})});function D(){const[n,t]=N("todos",[]),[s,a]=r.useState("all"),u=r.useCallback(l=>{const c={id:`${Date.now()}-${Math.random()}`,text:l,completed:!1,createdAt:Date.now()};t(o=>[c,...o])},[t]),d=r.useCallback(l=>{t(c=>c.map(o=>o.id===l?{...o,completed:!o.completed}:o))},[t]),i=r.useCallback(l=>{t(c=>c.filter(o=>o.id!==l))},[t]),b=r.useCallback(()=>{t(l=>l.filter(c=>!c.completed))},[t]),x=n.filter(l=>s==="active"?!l.completed:s==="completed"?l.completed:!0),h=n.filter(l=>!l.completed).length,m=n.filter(l=>l.completed).length;return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[e.jsx("div",{className:"bg-white border-b border-neutral-200 px-6 py-4",children:e.jsxs("button",{onClick:()=>a("all"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity duration-100",title:"Click to show all tasks",children:[e.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-xl flex items-center justify-center",children:e.jsx(j,{className:"text-brand-600",size:22})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h1",{className:"text-xl font-semibold text-neutral-900",children:"Todo App"}),e.jsxs("p",{className:"text-sm text-neutral-500",children:[h," active, ",m," completed"]})]})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-8 space-y-6",children:[e.jsx(k,{onAdd:u}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"completed",label:"Completed"}],value:s,onChange:l=>a(l)}),m>0&&e.jsx("button",{onClick:b,className:"px-4 py-2 text-sm text-neutral-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Clear completed"})]}),x.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s==="all"&&e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"text-neutral-300 mb-4",size:48}),e.jsx("p",{className:"text-neutral-500",children:"No tasks yet. Add one above!"})]}),s==="active"&&e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"text-brand-300 mb-4",size:48}),e.jsx("p",{className:"text-neutral-500",children:"All tasks completed!"})]}),s==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"text-neutral-300 mb-4",size:48}),e.jsx("p",{className:"text-neutral-500",children:"No completed tasks yet."})]})]}):e.jsx("div",{className:"space-y-2",children:x.map(l=>e.jsx(C,{todo:l,onToggle:d,onDelete:i},l.id))})]})]})}export{D as default};
